(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8441:function(e,t,n){Promise.resolve().then(n.bind(n,6381))},6381:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(5838),o=n(2710),a=n.n(o),s=n(3813),i=n(5125),l=n(1398),d=n(3247);function c(e){var t;let{lectures:n,activeLecture:o,showNewLectureForm:a,newLectureTitle:s,pending:i,onSelectLecture:l,onShowNewForm:c,onHideNewForm:u,onTitleChange:f,onCreateLecture:p}=e;return(0,r.jsxs)("div",{style:{marginBottom:40,padding:24,background:"#0f1530",borderRadius:16},children:[(0,r.jsx)("h2",{style:{fontSize:20,marginBottom:16,fontWeight:600},children:"\uD83D\uDCDA 강의 선택"}),a?(0,r.jsxs)("div",{style:{padding:20,background:"#192041",borderRadius:12,border:"2px solid #5865f2"},children:[(0,r.jsx)("h3",{style:{fontSize:18,marginBottom:12,fontWeight:600},children:"새 강의 만들기"}),(0,r.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,r.jsx)("input",{type:"text",value:s,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"===e.key&&p(),placeholder:"강의 제목을 입력하세요...",style:{flex:1,padding:"12px 16px",borderRadius:8,background:"#0f1530",color:"#fff",border:"1px solid #334",fontSize:15,outline:"none"},autoFocus:!0}),(0,r.jsx)("button",{disabled:i||!s.trim(),onClick:p,style:{...d.fn,opacity:!s.trim()||i?.5:1},children:"✓ 생성"}),(0,r.jsx)("button",{onClick:u,style:{...d.fn,background:"#555"},children:"취소"})]}),(0,r.jsx)("p",{style:{fontSize:13,opacity:.6,marginTop:8},children:'예: "2024 AI 기술 세미나", "Python 프로그래밍 강의 1주차"'})]}):(0,r.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[(0,r.jsx)("button",{disabled:i,onClick:c,style:d.fn,children:"➕ 새 강의 만들기"}),(0,r.jsxs)("select",{value:null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"",onChange:e=>{var t;let r=e.target.value;l(null!==(t=n.find(e=>e.id===r))&&void 0!==t?t:null)},style:d.MM,children:[(0,r.jsx)("option",{value:"",children:"기존 강의 선택..."}),n.map(e=>(0,r.jsx)("option",{value:e.id,children:e.title},e.id))]}),o&&(0,r.jsxs)("span",{style:{marginLeft:16,fontSize:14,opacity:.8},children:["선택됨:"," ",(0,r.jsx)("b",{style:{color:"#5865f2"},children:o.title})]})]})]})}function u(e){let{recording:t,paused:n,pending:o,recordingCompleted:a,currentSessionId:s,onStartRecording:l,onPauseRecording:d,onResumeRecording:c,onStopRecording:u}=e,f=(0,i.useRouter)();return(0,r.jsxs)("div",{style:{marginBottom:40,padding:32,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:16,position:"relative"},children:[(0,r.jsx)("div",{style:{marginBottom:24,display:"flex",alignItems:"center",gap:16},children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{style:{fontSize:24,marginBottom:8,fontWeight:700,display:"flex",alignItems:"center",gap:12},children:["\uD83C\uDF99️ 1단계: 음성 녹음",a&&(0,r.jsx)("span",{style:{padding:"6px 16px",background:"#27ae60",borderRadius:8,fontSize:14,fontWeight:600},children:"✓ 완료"})]}),(0,r.jsx)("p",{style:{opacity:.9,fontSize:14,maxWidth:600},children:"마이크를 사용해서 실시간으로 녹음하세요"})]})}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:16,flexWrap:"wrap"},children:a?(0,r.jsx)("div",{style:{padding:"32px 48px",background:"rgba(255, 255, 255, 0.1)",borderRadius:16,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:320,gap:16},children:(0,r.jsx)("button",{onClick:()=>{s&&f.push("/sessions/".concat(s,"?autoStart=true"))},style:{padding:"18px 36px",background:"#27ae60",color:"#fff",borderRadius:12,border:"none",cursor:"pointer",fontSize:18,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"all 0.3s",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 6px 16px rgba(0,0,0,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.3)"},children:"다음 단계로 (텍스트 변환) →"})}):t?(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:32,padding:"32px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,r.jsx)("div",{style:{width:24,height:24,borderRadius:"50%",background:"#27ae60",animation:"pulse 1.5s infinite",boxShadow:"0 0 20px rgba(39, 174, 96, 0.6)"}}),(0,r.jsx)("div",{style:{fontSize:20,fontWeight:700,color:"#fff"},children:n?"녹음 일시정지 중":"녹음 진행 중"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:12,marginTop:8},children:[n?(0,r.jsxs)("button",{onClick:c,style:{padding:"12px 24px",background:"#27ae60",color:"#fff",borderRadius:8,border:"none",cursor:"pointer",fontSize:14,fontWeight:600,display:"flex",alignItems:"center",gap:8,transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)"},children:[(0,r.jsx)("span",{style:{fontSize:18},children:"▶️"}),"녹음 재개"]}):(0,r.jsxs)("button",{onClick:d,style:{padding:"12px 24px",background:"#f39c12",color:"#fff",borderRadius:8,border:"none",cursor:"pointer",fontSize:14,fontWeight:600,display:"flex",alignItems:"center",gap:8,transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)"},children:[(0,r.jsx)("span",{style:{fontSize:18},children:"⏸️"}),"녹음 중지"]}),(0,r.jsxs)("button",{onClick:u,style:{padding:"12px 24px",background:"#c0392b",color:"#fff",borderRadius:8,border:"none",cursor:"pointer",fontSize:14,fontWeight:600,display:"flex",alignItems:"center",gap:8,transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)"},children:[(0,r.jsx)("span",{style:{fontSize:18},children:"⏹️"}),"녹음 종료"]})]})]}):(0,r.jsxs)("button",{disabled:o,onClick:l,style:{padding:"48px 64px",background:"#e74c3c",color:"#fff",borderRadius:20,border:"none",cursor:o?"not-allowed":"pointer",fontSize:16,fontWeight:700,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.3s",boxShadow:"0 8px 24px rgba(0,0,0,0.4)",opacity:o?.5:1,minWidth:320},onMouseEnter:e=>{o||(e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 12px 32px rgba(0,0,0,0.5)")},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.4)"},children:[(0,r.jsx)("span",{style:{fontSize:56,marginBottom:12},children:"\uD83C\uDFA4"}),(0,r.jsx)("div",{style:{fontSize:22,fontWeight:700},children:"녹음 시작"}),(0,r.jsx)("div",{style:{fontSize:14,opacity:.9,marginTop:8},children:"클릭하면 바로 녹음이 시작됩니다"})]})})]})}function f(e){let{show:t,sessions:n,onClose:o,onSessionClick:a,onDeleteSession:s}=e;return t?(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:o,children:(0,r.jsxs)("div",{style:{background:"#0f1530",borderRadius:16,padding:32,maxWidth:900,width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[(0,r.jsx)("h2",{style:{fontSize:24,fontWeight:700},children:"\uD83D\uDCCB 녹음 기록"}),(0,r.jsx)("button",{onClick:o,style:{padding:"8px 16px",background:"#555",color:"#fff",borderRadius:8,border:"none",cursor:"pointer",fontSize:14,fontWeight:600},children:"✕ 닫기"})]}),(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",background:"#12183a",borderRadius:12,overflow:"hidden"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{background:"#1a2045"},children:[(0,r.jsx)("th",{style:d.th,children:"번호"}),(0,r.jsx)("th",{style:d.th,children:"생성 일시"}),(0,r.jsx)("th",{style:d.th,children:"상태"}),(0,r.jsx)("th",{style:d.th,children:"작업"})]})}),(0,r.jsxs)("tbody",{children:[n.map((e,t)=>{var n;return(0,r.jsxs)("tr",{style:{cursor:"pointer",transition:"background 0.2s"},onClick:()=>{o(),a(e.id)},onMouseEnter:e=>e.currentTarget.style.background="#1e2550",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,r.jsx)("td",{style:d.td,children:t+1}),(0,r.jsx)("td",{style:d.td,children:new Date(null!==(n=e.createdAt)&&void 0!==n?n:Date.now()).toLocaleString("ko-KR")}),(0,r.jsx)("td",{style:d.td,children:(0,r.jsx)("span",{style:{padding:"4px 12px",borderRadius:12,fontSize:13,background:"completed"===e.status?"#27ae60":"processing"===e.status?"#f39c12":"#95a5a6",color:"#fff"},children:"idle"===e.status?"대기 중":"processing"===e.status?"처리 중":"completed"===e.status?"완료":e.status})}),(0,r.jsxs)("td",{style:d.td,children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),o(),a(e.id)},style:{...d.fS,background:"#27ae60"},children:"열기"}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),s(e)},style:{...d.fS,background:"#e74c3c"},children:"삭제"})]})]},e.id)}),0===n.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4,style:{...d.td,textAlign:"center",opacity:.6,padding:24},children:"아직 녹음이 없습니다. 녹음을 시작하거나 파일을 업로드하세요."})})]})]})]})}):null}function p(){let e=(0,i.useRouter)(),{lectures:t,error:n,createLecture:o}=function(){let[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(null);async function o(e){if(!e.trim())return alert("강의 제목을 입력해주세요."),null;try{r(null);let n=await (0,l.Nv)("/lectures",{method:"POST",body:JSON.stringify({title:e.trim()})});return t(e=>[n,...e]),n}catch(t){console.error("Failed to create lecture:",t);let e=t instanceof l.MS?t.message:"강의 생성에 실패했습니다.";return r(e),alert(e),null}}return(0,s.useEffect)(()=>{(async function(){try{let e=await (0,l.Nv)("/lectures");t(e)}catch(e){console.error("Failed to fetch lectures:",e),r(e instanceof l.MS?e.message:"강의 목록을 불러올 수 없습니다.")}})()},[]),{lectures:e,setLectures:t,error:n,setError:r,createLecture:o}}(),[p,g]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),[y,b]=(0,s.useState)(""),[m,S]=(0,s.useState)(!1),{sessions:j,createSession:w,deleteSession:v}=function(e){let[t,n]=(0,s.useState)([]);async function r(e,t){try{let r=await (0,l.Nv)("/lectures/".concat(e,"/sessions"),{method:"POST",body:JSON.stringify({mode:t,policy:{lengthMin:55,overlapSec:5,vadPause:!0}})});return n(e=>[...e,r]),r.id}catch(e){return console.error("Failed to create session:",e),alert(e instanceof l.MS?e.message:"세션 생성에 실패했습니다."),null}}async function o(e){if(confirm("이 녹음을 삭제하시겠습니까?"))try{await (0,l.Nv)("/lectures/".concat(e.lectureId,"/sessions/").concat(e.id),{method:"DELETE"}),n(t=>t.filter(t=>t.id!==e.id))}catch(e){console.error("Failed to delete session:",e),alert(e instanceof l.MS?e.message:"세션 삭제에 실패했습니다.")}}return(0,s.useEffect)(()=>{if(!e)return;let t=e.id;async function r(){try{let e=await (0,l.Nv)("/lectures/".concat(t,"/sessions"));n(e)}catch(e){console.error("Failed to fetch sessions:",e)}}r();let o=setInterval(r,5e3);return()=>clearInterval(o)},[e]),{sessions:t,setSessions:n,createSession:r,deleteSession:o}}(p),[k,C]=(0,s.useState)(!1),T=function(e,t){let[n,r]=(0,s.useState)(!1),[o,a]=(0,s.useState)(!1),[i,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!1),[f,p]=(0,s.useState)(null);async function g(){if(!e){alert("먼저 강의를 선택하거나 생성하세요.");return}let n=await t(e.id,"manual");if(n)try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),o=[];t.ondataavailable=e=>{e.data.size>0&&o.push(e.data)},t.onstop=async()=>{e.getTracks().forEach(e=>e.stop());let t=new Blob(o,{type:"audio/webm"}),r=new FormData;r.append("file",t,"recording.webm");try{await (0,l.zi)("/sessions/".concat(n,"/upload"),r),u(!0),p(n)}catch(e){console.error("Upload failed:",e),alert(e instanceof l.MS?e.message:"녹음 업로드에 실패했습니다.")}},t.start(),d(t),r(!0)}catch(e){console.error("Failed to start recording:",e),alert("마이크 접근에 실패했습니다. 브라우저 권한을 확인해주세요.")}}return{recording:n,paused:o,recordingCompleted:c,currentSessionId:f,setRecordingCompleted:u,setCurrentSessionId:p,startRecording:g,pauseRecording:function(){i&&"recording"===i.state&&(i.pause(),a(!0))},resumeRecording:function(){i&&"paused"===i.state&&(i.resume(),a(!1))},stopRecording:function(){i&&"inactive"!==i.state&&(i.stop(),d(null),r(!1),a(!1))}}}(p,w),z=function(e,t){let n=(0,s.useRef)(null),[r,o]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null);async function u(r){var a;let s=null===(a=r.target.files)||void 0===a?void 0:a[0];if(!s)return;if(!e){alert("먼저 강의를 선택하거나 생성하세요.");return}o(!0);let d=await t(e.id,"manual");if(!d){o(!1);return}let u=new FormData;u.append("file",s);try{await (0,l.zi)("/sessions/".concat(d,"/upload"),u),o(!1),i(!0),c(d)}catch(e){console.error("Upload failed:",e),alert(e instanceof l.MS?e.message:"파일 업로드에 실패했습니다."),o(!1)}n.current&&(n.current.value="")}return{fileInputRef:n,uploadingFile:r,fileUploaded:a,currentSessionId:d,setFileUploaded:i,setCurrentSessionId:c,handleFileSelect:u}}(p,w);async function R(){if(!y.trim())return;S(!0);let e=await o(y);S(!1),e&&(g(e),b(""),h(!1))}let D=T.currentSessionId||z.currentSessionId;return(0,r.jsxs)("main",{style:d.HV,className:"jsx-a6d472ead20663ee",children:[(0,r.jsx)("h1",{style:{fontSize:32,marginBottom:8,fontWeight:700},className:"jsx-a6d472ead20663ee",children:"\uD83C\uDFA4 Summa AI — 강의 녹음 자동 요약"}),(0,r.jsx)("p",{style:{opacity:.7,marginBottom:32,fontSize:16},className:"jsx-a6d472ead20663ee",children:"강의를 녹음하고 자동으로 텍스트 변환 및 요약을 생성합니다"}),(0,r.jsx)(c,{lectures:t,activeLecture:p,showNewLectureForm:x,newLectureTitle:y,pending:m,onSelectLecture:e=>{g(e),T.setRecordingCompleted(!1),z.setFileUploaded(!1)},onShowNewForm:()=>h(!0),onHideNewForm:()=>{h(!1),b("")},onTitleChange:b,onCreateLecture:R}),p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{marginBottom:16,display:"flex",justifyContent:"flex-end"},className:"jsx-a6d472ead20663ee",children:(0,r.jsx)("button",{onClick:()=>C(!0),style:{padding:"10px 18px",background:"#0f1530",color:"#fff",borderRadius:10,border:"1px solid #334",cursor:"pointer",fontSize:14,fontWeight:600,transition:"all 0.2s",display:"flex",alignItems:"center",gap:8},onMouseEnter:e=>{e.currentTarget.style.background="#192041",e.currentTarget.style.borderColor="#5865f2"},onMouseLeave:e=>{e.currentTarget.style.background="#0f1530",e.currentTarget.style.borderColor="#334"},className:"jsx-a6d472ead20663ee",children:"\uD83D\uDCCB 녹음 기록"})}),(0,r.jsx)(u,{recording:T.recording,paused:T.paused,pending:m,recordingCompleted:T.recordingCompleted,currentSessionId:D,onStartRecording:T.startRecording,onPauseRecording:T.pauseRecording,onResumeRecording:T.resumeRecording,onStopRecording:T.stopRecording})]}),!p&&(0,r.jsxs)("div",{style:{marginBottom:40,padding:48,background:"#0f1530",borderRadius:16,textAlign:"center",border:"2px dashed #334"},className:"jsx-a6d472ead20663ee",children:[(0,r.jsx)("div",{style:{fontSize:48,marginBottom:16},className:"jsx-a6d472ead20663ee",children:"\uD83D\uDCDA"}),(0,r.jsx)("h3",{style:{fontSize:20,marginBottom:8,opacity:.9},className:"jsx-a6d472ead20663ee",children:"강의를 선택하거나 생성하세요"}),(0,r.jsx)("p",{style:{opacity:.6,fontSize:14},className:"jsx-a6d472ead20663ee",children:'위에서 "새 강의 만들기" 버튼을 눌러 시작하세요'})]}),(0,r.jsx)(f,{show:k&&!!p,sessions:j,onClose:()=>C(!1),onSessionClick:t=>e.push("/sessions/".concat(t)),onDeleteSession:v}),(0,r.jsx)(a(),{id:"a6d472ead20663ee",children:"@-webkit-keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}@-moz-keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}@-o-keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.7}}"})]})}},3247:function(e,t,n){"use strict";n.d(t,{AZ:function(){return o},HV:function(){return i},MM:function(){return u},OL:function(){return l},b9:function(){return a},fS:function(){return s},fn:function(){return r},td:function(){return c},th:function(){return d}}),n(3813);let r={padding:"12px 20px",background:"#5865f2",color:"#fff",borderRadius:12,border:"none",cursor:"pointer",fontSize:15,fontWeight:600,transition:"all 0.2s"},o={padding:"10px 20px",background:"#0f1530",color:"#fff",borderRadius:10,border:"1px solid #334",cursor:"pointer",fontSize:14,fontWeight:600,transition:"all 0.2s"},a={padding:"24px 48px",background:"#5865f2",color:"#fff",borderRadius:16,border:"none",cursor:"pointer",fontSize:16,fontWeight:600,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.3s",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},s={padding:"8px 16px",borderRadius:8,background:"#5865f2",marginRight:8,color:"#fff",border:"none",cursor:"pointer",fontSize:13,fontWeight:500,transition:"all 0.2s"},i={maxWidth:1200,margin:"0 auto",padding:24,minHeight:"100vh"},l={padding:"2px 8px",background:"#12183a",borderRadius:4,fontSize:13,fontFamily:"monospace"},d={textAlign:"left",padding:"12px 16px",borderBottom:"2px solid #222",fontSize:14,fontWeight:600,opacity:.9},c={padding:"14px 16px",borderBottom:"1px solid #1a2045",fontSize:14},u={padding:"12px 16px",borderRadius:12,background:"#192041",color:"#fff",border:"1px solid #334",fontSize:15,cursor:"pointer",minWidth:300}},1398:function(e,t,n){"use strict";n.d(t,{MS:function(){return o},Nv:function(){return a},zi:function(){return s}});let r="https://summa-api-i088.onrender.com";class o extends Error{constructor(e,t,n){super(e),this.statusCode=t,this.details=n,this.name="ApiError"}}async function a(e,t){let n="".concat(r).concat(e);try{let e=await fetch(n,{...t,headers:{"Content-Type":"application/json",...null==t?void 0:t.headers}});if(!e.ok){let t,n="HTTP ".concat(e.status,": ").concat(e.statusText);try{let r=await e.json();r.error&&(n=r.error,t=r.details)}catch(e){}throw new o(n,e.status,t)}let r=await e.json();if(!r.ok)throw new o(r.error||"Unknown API error",e.status,r.details);return r.data}catch(e){if(e instanceof o)throw e;if(e instanceof TypeError&&e.message.includes("fetch"))throw new o("네트워크 연결을 확인해주세요. API 서버가 실행 중인지 확인하세요.",0);throw new o(e instanceof Error?e.message:"알 수 없는 오류가 발생했습니다",0)}}async function s(e,t){let n="".concat(r).concat(e);try{let e=await fetch(n,{method:"POST",body:t});if(!e.ok){let t,n="HTTP ".concat(e.status,": ").concat(e.statusText);try{let r=await e.json();r.error&&(n=r.error,t=r.details)}catch(e){}throw new o(n,e.status,t)}let r=await e.json();if(!r.ok)throw new o(r.error||"Upload failed",e.status,r.details);return r.data}catch(e){if(e instanceof o)throw e;if(e instanceof TypeError&&e.message.includes("fetch"))throw new o("네트워크 연결을 확인해주세요. API 서버가 실행 중인지 확인하세요.",0);throw new o(e instanceof Error?e.message:"파일 업로드에 실패했습니다",0)}}}},function(e){e.O(0,[246,145,278,744],function(){return e(e.s=8441)}),_N_E=e.O()}]);